# React Query의 options

React Query는 비동기 데이터를 가져오고 캐시하는 데 사용되는 라이브러리로, 여러 가지 설정을 통해 세부적인 동작 방식을 조절할 수 있다. 여기서는 `options` 객체의 몇 가지 주요 속성에 대해 설명하겠다.

## 1. **cacheTime**:

- `cacheTime`은 쿼리가 비활성 상태가 된 후 얼마나 오랫동안 캐시에 보관될지를 밀리초 단위로 설정한다. 이 시간 동안에는 캐시 데이터가 삭제되지 않으며, 해당 쿼리를 다시 호출할 때 빠르게 데이터를 불러올 수 있다.
- 예: `{ cacheTime: 1000 * 60 * 5 }` (캐시 데이터를 5분간 보관)

## 2. **initialData**:

- `initialData`는 쿼리를 수행하기 전에 사용할 초기 데이터를 설정한다. 이는 컴포넌트가 로딩 상태에서 데이터를 기다리는 동안 빈 화면을 보여주는 것을 방지하고, 사용자에게 바로 데이터를 제공하게 해서 좋은 사용자 경험(UX)을 제공하는 데 유용하다.
- 예: `{ initialData: [] }` (데이터를 가져오기 전까지는 빈 배열을 초기 데이터로 사용)

## 3. **staleTime**:

- `staleTime`은 쿼리 데이터가 "오래된" 것으로 간주되기 전의 시간을 밀리초 단위로 설정한다. 데이터가 오래되면, 다음에 해당 쿼리가 호출될 때 자동으로 백그라운드에서 새로운 데이터로 갱신된다.
- 예: `{ staleTime: 1000 * 60 * 2 }` (데이터가 2분 후에 오래된 것으로 표시)

## 4. **retry**:

- `retry`는 쿼리가 실패했을 때 자동 재시도할 횟수를 설정한다. 이는 네트워크 불안정 등 일시적인 문제로 인해 요청이 실패할 때 유용하다.
- 예: `{ retry: 3 }` (쿼리 실패 시 최대 3회까지 재시도)

## 5. **onSuccess** 및 **onError**:

- `onSuccess`는 쿼리가 성공적으로 완료되었을 때 호출되는 콜백 함수를, `onError`는 쿼리가 실패했을 때 호출되는 콜백 함수를 설정한다.
- 예:
  ```javascript
  {
    onSuccess: (data) => console.log('Data received:', data),
    onError: (error) => console.error('Error fetching data:', error)
  }
  ```

## 6. refetchOnWindowFocus:

이 옵션은 사용자가 브라우저 창에 포커스를 다시 맞추었을 때(예: 다른 탭에서 작업한 후 원래 탭으로 돌아옴) 쿼리를 자동으로 다시 가져올지 여부를 결정한다. 이는 사용자가 항상 최신의 정보를 볼 수 있도록 보장하는 데 유용하다.

예: { refetchOnWindowFocus: true } (윈도우 포커스가 되면 데이터를 다시 가져옴)

## 7. refetchInterval:

refetchInterval은 정해진 시간 간격으로 쿼리를 자동으로 재요청하는 데 사용된다. 이는 주기적으로 데이터를 업데이트해야 하는 실시간 애플리케이션에 유용하다. 시간은 밀리초 단위로 설정된다.

예: { refetchInterval: 5000 } (5초마다 데이터를 다시 가져옴)

## 8. enabled:

enabled 옵션은 특정 조건에 따라 쿼리의 자동 실행 여부를 결정한다. 예를 들어, 특정 데이터가 없거나 사용자 인터랙션이 필요한 경우 처럼 쿼리를 바로 실행하고 싶지 않을 때 사용할 수 있다.

예: { enabled: false } (쿼리가 자동으로 실행되지 않음, 특정 조건을 만족하거나 이벤트가 발생했을 때 수동으로 쿼리 실행 가능)

이 외에도 React Query는 다양한 옵션을 제공하여 상세한 쿼리 동작 조절이 가능하다. 각 옵션은 특정 상황에 맞게 쿼리의 동작을 최적화하는 데 사용될 수 있다.
